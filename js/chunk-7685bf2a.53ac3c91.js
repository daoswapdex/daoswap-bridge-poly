(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7685bf2a"],{"00da":function(t,e,a){},1009:function(t,e,a){"use strict";a("c26e")},1170:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CDrawer",t._g(t._b({attrs:{closeOnClickModal:!t.confirmingData||t.failed||t.finished,closeOnPressEscape:!t.confirmingData||t.failed||t.finished}},"CDrawer",t.$attrs,!1),t.$listeners),[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("transactions.details.title")))]),t.steps?n("div",{staticClass:"scroll"},t._l(t.steps,(function(e,i){var s;return n("div",{key:e.chainId,staticClass:"step"},[null!=e.chainId?[n("img",{staticClass:"step-icon",class:(s={},s[t.getStepStatus(i)]=!0,s),attrs:{src:t.statusIcons[t.getStepStatus(i)]}}),i!==t.steps.length-1?n("div",{staticClass:"step-line"}):t._e(),n("div",{staticClass:"step-title"},[t._v(t._s(t.$formatEnum(e.chainId,{type:"chainName"})))]),n("div",{staticClass:"description"},[t._v(" "+t._s(t.$t("transactions.details."+t.getStepStatus(i),{chainName:t.$formatEnum(e.chainId,{type:"chainName"})}))+" ")]),n("div",{staticClass:"progress"},[n("ElProgress",{staticClass:"progress-bar",attrs:{percentage:100*(e.blocks/e.needBlocks||0),showText:!1}}),n("span",{staticClass:"progress-text"},[t._v(" "+t._s(t.$t("transactions.details.confirmation",{blocks:null!=e.blocks?e.blocks:"-",needBlocks:null!=e.needBlocks?e.needBlocks:"-"}))+" ")])],1),n("CLink",{staticClass:"link",attrs:{href:t.$format(t.getChain(e.chainId).explorerUrl,{txHash:e.hash}),target:"_blank",disabled:!e.hash}},[t._v(" "+t._s(t.$t("transactions.details.hash",{hash:t.$formatLongText(e.hash||"N/A",{headTailLength:16})}))+" ")])]:e.failed?[n("img",{staticClass:"step-icon failed",attrs:{src:a("e65e")}}),i!==t.steps.length-1?n("div",{staticClass:"step-line"}):t._e(),n("div",{staticClass:"failed-title"},[t._v(t._s(t.$t("transactions.details.failedTitle")))]),t.confirmingData?n("CLink",{staticClass:"link",attrs:{to:{name:"transactions"}}},[t._v(" "+t._s(t.$t("transactions.details.gotoHistory"))+" ")]):t._e()]:e.finished?[n("img",{staticClass:"step-icon succeeded",attrs:{src:a("eb39")}}),i!==t.steps.length-1?n("div",{staticClass:"step-line"}):t._e(),n("div",{staticClass:"finished-title"},[t._v(t._s(t.$t("transactions.details.finishedTitle")))]),t.confirmingData?n("CLink",{staticClass:"link",attrs:{to:{name:"transactions"}}},[t._v(" "+t._s(t.$t("transactions.details.gotoHistory"))+" ")]):t._e()]:t._e()],2)})),0):t._e()])])},i=[],s=a("1da1"),r=a("2909"),o=(a("96cf"),a("99af"),a("b00c")),c=a("4245"),l={name:"Details",inheritAttrs:!1,props:{hash:String,confirmingData:Object},computed:{mergedHash:function(){return this.hash||this.confirmingData&&this.confirmingData.transactionHash},transaction:function(){return this.$store.getters.getTransaction(this.mergedHash)},mergedTransaction:function(){return this.transaction||this.confirmingData&&{steps:[{hash:this.confirmingData.transactionHash,chainId:this.confirmingData.fromChainId},{chainId:o["a"].Poly},{chainId:this.confirmingData.toChainId}]}},steps:function(){if(!this.mergedTransaction)return null;var t=this.mergedTransaction.steps;return this.failed&&(t=[].concat(Object(r["a"])(t),[{failed:this.failed}])),this.finished&&(t=[].concat(Object(r["a"])(t),[{finished:this.finished}])),t},failed:function(){return!!this.confirmingData&&this.confirmingData.transactionStatus===o["b"].Failed},finished:function(){return!!this.transaction&&this.transaction.status===o["c"].Finished},closeable:function(){return!this.confirmingData||this.failed||this.finished},statusIcons:function(){return{waiting:a("d577"),pending:a("d889"),succeeded:a("eb39"),failed:a("e65e")}}},watch:{mergedHash:function(){this.getTransaction()}},created:function(){var t=this;this.interval=setInterval((function(){t.getTransaction()}),5e3)},beforeDestroy:function(){clearInterval(this.interval)},methods:{getChain:function(t){return this.$store.getters.getChain(t)},getStepStatus:function(t){if(!this.steps)return null;if(this.failed&&0===t)return"failed";var e=this.steps[t];if(e.blocks>=e.needBlocks)return"succeeded";var a=this.steps[t-1];return!a||a.blocks>=a.needBlocks?"pending":"waiting"},getTransaction:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.mergedHash||!t.$attrs.visible){e.next=12;break}return e.prev=1,e.next=4,t.$store.dispatch("getTransaction",t.mergedHash);case 4:e.next=12;break;case 6:if(e.prev=6,e.t0=e["catch"](1),!(e.t0 instanceof c["c"])){e.next=11;break}if(e.t0.code!==c["c"].CODES.BAD_REQUEST){e.next=11;break}return e.abrupt("return");case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,6]])})))()}}},h=l,m=(a("66bd"),a("2877")),f=Object(m["a"])(h,n,i,!1,null,"42c67f5f",null);e["a"]=f.exports},"22a4":function(t,e,a){},"22e2":function(t,e,a){t.exports=a.p+"img/question.d5f07935.svg"},"346f":function(t,e,a){t.exports=a.p+"img/exchange.fd7f8fd9.svg"},"3c84":function(t,e,a){"use strict";const n=(t,e)=>Math.floor(Math.random()*(e-t+1)+t),i=()=>{const t=new Error("Delay aborted");return t.name="AbortError",t},s=({clearTimeout:t,setTimeout:e,willResolve:a})=>(n,{value:s,signal:r}={})=>{if(r&&r.aborted)return Promise.reject(i());let o,c,l;const h=t||clearTimeout,m=()=>{h(o),l(i())},f=()=>{r&&r.removeEventListener("abort",m)},u=new Promise((t,i)=>{c=()=>{f(),a?t(s):i(s)},l=i,o=(e||setTimeout)(c,n)});return r&&r.addEventListener("abort",m,{once:!0}),u.clear=()=>{h(o),o=null,c()},u},r=s({willResolve:!0});r.reject=s({willResolve:!1}),r.range=(t,e,a)=>r(n(t,e),a),r.createWithTimers=({clearTimeout:t,setTimeout:e})=>{const a=s({clearTimeout:t,setTimeout:e,willResolve:!0});return a.reject=s({clearTimeout:t,setTimeout:e,willResolve:!1}),a},t.exports=r,t.exports.default=r},"4a24":function(t,e,a){t.exports=a.p+"img/check.916f638a.svg"},"4bc1":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),i=a("5899"),s="["+i+"]",r=RegExp("^"+s+s+"*"),o=RegExp(s+s+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(r,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"66bd":function(t,e,a){"use strict";a("f979")},"6f59":function(t,e,a){},"7abe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Page",{staticClass:"home"},[a("div",{staticClass:"content"},[a("Form")],1)])},i=[],s=a("c879"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ValidationObserver",{ref:"validation",staticClass:"form",attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.invalid;return[n("div",{staticClass:"card"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("home.form.title")))]),n("div",{staticClass:"fields"},[n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.form.asset")))]),n("CButton",{staticClass:"select-token-basic",on:{click:function(e){t.selectTokenBasicVisible=!0}}},[t.tokenBasic?[n("img",{staticClass:"select-token-basic-icon",attrs:{src:t.tokenBasic.meta}}),n("span",{staticClass:"select-token-basic-name"},[t._v(t._s(t.tokenBasicName))])]:t._e(),n("CFlexSpan"),n("img",{attrs:{src:a("f0c2")}})],2)],1),n("div",{staticClass:"fields-row"},[n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.form.from")))]),n("CButton",{staticClass:"select-chain",attrs:{disabled:!t.tokenBasic},on:{click:function(e){t.selectFromChainVisible=!0}}},[n("div",{staticClass:"select-chain-content"},[t.fromChain?[n("img",{staticClass:"select-chain-icon",attrs:{src:t.fromChain.icon}}),n("span",{staticClass:"select-chain-name"},[t._v(" "+t._s(t.$t("home.form.chainName",{chainName:t.$formatEnum(t.fromChainId,{type:"chainName"})}))+" ")])]:[n("img",{staticClass:"select-chain-icon",attrs:{src:a("b11f")}}),n("span",{staticClass:"select-chain-name"},[t._v(" "+t._s(t.$t("home.form.chainName",{chainName:t.$t("home.form.from")}))+" ")])],n("img",{staticClass:"chevron-down",attrs:{src:a("f0c2")}})],2)]),t.fromWallet?n("div",{staticClass:"address"},[n("span",{staticClass:"address-value"},[t._v(" "+t._s(t.$formatLongText(t.fromWallet.address,{headTailLength:6}))+" ")]),n("CButton",{on:{click:function(e){return t.copy(t.fromWallet.address)}}},[n("img",{attrs:{src:a("b420")}})])],1):t._e()],1),n("CButton",{attrs:{disabled:!t.toChainId},on:{click:t.exchangeFromTo}},[n("img",{attrs:{src:a("346f")}})]),n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.form.to")))]),n("CButton",{staticClass:"select-chain",attrs:{disabled:!t.toChains},on:{click:function(e){t.selectToChainVisible=!0}}},[n("div",{staticClass:"select-chain-content"},[t.toChain?[n("img",{staticClass:"select-chain-icon",attrs:{src:t.toChain.icon}}),n("span",{staticClass:"select-chain-name"},[t._v(" "+t._s(t.$t("home.form.chainName",{chainName:t.$formatEnum(t.toChainId,{type:"chainName"})}))+" ")])]:[n("img",{staticClass:"select-chain-icon",attrs:{src:a("afc7")}}),n("span",{staticClass:"select-chain-name"},[t._v(" "+t._s(t.$t("home.form.chainName",{chainName:t.$t("home.form.to")}))+" ")])],n("img",{staticClass:"chevron-down",attrs:{src:a("f0c2")}})],2)]),t.toWallet?n("div",{staticClass:"address"},[n("span",{staticClass:"address-value"},[t._v(" "+t._s(t.$formatLongText(t.toWallet.address,{headTailLength:6}))+" ")]),n("CButton",{on:{click:function(e){return t.copy(t.toWallet.address)}}},[n("img",{attrs:{src:a("b420")}})])],1):t._e()],1)],1),n("ValidationProvider",{ref:"amountValidation",staticClass:"field",attrs:{tag:"div",rules:{required:!0,number:!0,positive:!0,maxDecimals:t.tokenBasic&&t.tokenBasic.decimals,maxValue:t.maxAmount,minValue:{min:t.minAmount,excluded:!0}}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.form.amount")))]),n("div",{staticClass:"input"},[n("CInput",{staticClass:"input-inner",model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),t.balance?n("CButton",{staticClass:"use-max",on:{click:t.transferAll}},[t._v(" "+t._s(t.$t("home.form.max"))+" ")]):t._e()],1),n("div",{staticClass:"input-error"},[t._v(t._s(i[0]))]),t.fee?n("div",{staticClass:"fee"},[n("span",{staticClass:"label"},[t._v(t._s(t.$t("home.form.maxamount")))]),n("CTooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" "+t._s(t.$t("home.form.maxamountTooltip"))+" ")]},proxy:!0}],null,!0)},[n("img",{staticClass:"tooltip-icon",attrs:{src:a("22e2")}})]),n("CFlexSpan"),n("span",{staticClass:"fee-value"},[t._v(t._s(t.$formatNumber(t.fee.Balance)))]),n("img",{staticClass:"fee-icon",attrs:{src:t.tokenBasic.meta}}),n("span",{staticClass:"fee-token"},[t._v(t._s(t.fromToken.name))])],1):t._e(),t.balance?n("div",{staticClass:"balance"},[n("span",{staticClass:"label"},[t._v(t._s(t.$t("home.form.balance")))]),n("CFlexSpan"),n("span",{staticClass:"value"},[t._v(" "+t._s(t.$formatNumber(t.balance))+" "+t._s(t.fromToken.name)+" ")])],1):t._e(),t.fee?n("div",{staticClass:"fee"},[n("span",{staticClass:"label"},[t._v(t._s(t.$t("home.form.fee")))]),n("CTooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" "+t._s(t.$t("home.form.feeTooltip"))+" ")]},proxy:!0}],null,!0)},[n("img",{staticClass:"tooltip-icon",attrs:{src:a("22e2")}})]),n("CFlexSpan"),n("span",{staticClass:"fee-value"},[t._v(t._s(t.$formatNumber(t.fee.TokenAmount)))]),n("img",{staticClass:"fee-icon",attrs:{src:t.fromChain.nftFeeName?t.fromChain.icon:t.tokenBasic.meta}}),n("span",{staticClass:"fee-token"},[t._v(t._s(t.fromChain.nftFeeName?t.fromChain.nftFeeName:t.fromToken.name))])],1):t._e()]}}],null,!0)})],1),!t.fromChain||!t.toChain||t.fromWallet&&t.toWallet?!i&&t.fromToken&&t.toToken&&t.needApproval?n("div",{staticClass:"approve-wrapper"},[n("el-checkbox",{model:{value:t.approveInfinityChecked,callback:function(e){t.approveInfinityChecked=e},expression:"approveInfinityChecked"}},[t._v(t._s(t.$t("home.form.approveInfinity"))+" "),n("CTooltip",{scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" "+t._s(t.$t("home.form.approveInfinitytip"))+" ")]},proxy:!0}],null,!0)},[n("img",{staticClass:"tooltip-icon",attrs:{src:a("22e2")}})])],1),n("CSubmitButton",{attrs:{loading:t.approving},on:{click:t.approve}},[t._v(" "+t._s(t.approving?t.$t("buttons.approving"):t.$t("buttons.approve"))+" ")])],1):n("CSubmitButton",{attrs:{disabled:i||!(t.fromToken&&t.toToken)},on:{click:t.next}},[t._v(" "+t._s(t.$t("buttons.next"))+" ")]):n("CSubmitButton",{on:{click:function(e){t.connectWalletVisible=!0}}},[t._v(" "+t._s(t.$t("home.form.connectWallet"))+" ")])],1),n("div",{staticClass:"history"},[t._v(" "+t._s(t.$t("home.form.historyPrefix"))+" "),n("CLink",{staticClass:"link",attrs:{to:{name:"transactions"}}},[t._v(t._s(t.$t("home.form.historyLink")))])],1),n("SelectTokenBasic",{attrs:{visible:t.selectTokenBasicVisible,tokenBasicName:t.tokenBasicName,tokenBasics:t.tokenBasics,popularTokenBasics:t.tokenBasics},on:{"update:visible":function(e){t.selectTokenBasicVisible=e},"update:tokenBasicName":t.changeTokenBasicName}}),n("SelectChain",{attrs:{visible:t.selectFromChainVisible,chainId:t.fromChainId,chains:t.fromChains||[]},on:{"update:visible":function(e){t.selectFromChainVisible=e},"update:chainId":t.changeFromChainId}}),n("SelectChain",{attrs:{visible:t.selectToChainVisible,chainId:t.toChainId,chains:t.toChains||[]},on:{"update:visible":function(e){t.selectToChainVisible=e},"update:chainId":t.changeToChainId}}),n("ConnectWallet",{attrs:{visible:t.connectWalletVisible,fromChainId:t.fromChainId,toChainId:t.toChainId},on:{"update:visible":function(e){t.connectWalletVisible=e}}}),n("Confirm",{key:t.confirmUuid,attrs:{visible:t.confirmVisible,confirmingData:t.confirmingData},on:{"update:visible":function(e){t.confirmVisible=e},"update:confirmingData":function(e){t.confirmingData=e},"update:confirming-data":function(e){t.confirmingData=e},closed:t.handleClosed,packed:t.handlePacked}}),n("TransactionDetails",{attrs:{visible:t.transactionDetailsVisible,confirmingData:t.confirmingData},on:{"update:visible":function(e){t.transactionDetailsVisible=e}}})]}}])})},o=[],c=a("1da1"),l=(a("96cf"),a("a9e3"),a("4de4"),a("d81d"),a("b0c0"),a("7db0"),a("901e")),h=a.n(l),m=a("f1cd"),f=a.n(m),u=a("ec26"),d=a("d544"),C=a("b00c"),p=a("1170"),g=a("4ec8"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CDrawer",t._g(t._b({},"CDrawer",t.$attrs,!1),t.$listeners),[n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("home.selectTokenBasic.title")))]),n("div",{staticClass:"input"},[n("CInput",{staticClass:"input-inner",attrs:{placeholder:t.$t("home.selectTokenBasic.inputPlaceholder")},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("div",{staticClass:"popular-token-basics"},t._l(t.topTokenBasics,(function(e){return n("CButton",{key:e.name,staticClass:"popular-token-basic",class:{selected:t.tokenBasicName===e.name},on:{click:function(a){return t.select(e)}}},[n("img",{staticClass:"popular-token-basic-icon",attrs:{src:e.meta}}),n("span",{staticClass:"popular-token-basic-name"},[t._v(t._s(e.name))])])})),1)]),n("div",{staticClass:"hint"},[t._v(t._s(t.$t("home.selectTokenBasic.hint")))]),n("CDivider"),n("div",{staticClass:"scroll"},t._l(t.filteredTokenBasics,(function(e){return n("div",{key:e.name,staticClass:"token-basic",on:{click:function(a){return t.select(e)}}},[n("span",{staticClass:"token-basic-left"},[n("img",{staticClass:"token-basic-icon",attrs:{src:e.meta}}),n("span",[t._v(t._s(e.name))])]),t.tokenBasicName===e.name?n("img",{attrs:{src:a("4a24")}}):t._e()])})),0)],1)])},k=[],b=(a("caad"),a("2532"),{name:"SelectTokenBasic",inheritAttrs:!1,props:{tokenBasicName:String,tokenBasics:Array,popularTokenBasics:Array},data:function(){return{keyword:""}},computed:{filteredTokenBasics:function(){var t=this;return this.tokenBasics.filter((function(e){return e.name.toLowerCase().includes(t.keyword.toLowerCase())}))},topTokenBasics:function(){var t=this;return d["g"].map((function(e){return t.$store.getters.getTokenBasic(e)})).filter((function(t){return t}))}},methods:{select:function(t){this.$emit("update:visible",!1),this.$emit("update:tokenBasicName",t.name)}}}),_=b,$=(a("e482"),a("2877")),I=Object($["a"])(_,v,k,!1,null,"4e536d4d",null),T=I.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CDrawer",t._g(t._b({},"CDrawer",t.$attrs,!1),t.$listeners),[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("home.selectChain.title")))]),n("CDivider"),n("div",{staticClass:"scroll"},t._l(t.chains,(function(e){return n("div",{key:e.id,staticClass:"chain",on:{click:function(a){return t.select(e)}}},[n("span",{staticClass:"chain-left"},[n("img",{staticClass:"chain-icon",attrs:{src:e.icon}}),n("span",[t._v(t._s(t.$formatEnum(e.id,{type:"chainName"})))])]),t.chainId===e.id?n("img",{attrs:{src:a("4a24")}}):t._e()])})),0)],1)])},B=[],N={name:"SelectChain",inheritAttrs:!1,props:{chainId:Number,chains:Array},methods:{select:function(t){this.$emit("update:visible",!1),this.$emit("update:chainId",t.id)}}},x=N,D=(a("e79e"),Object($["a"])(x,w,B,!1,null,"4033aeec",null)),y=D.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CDrawer",t._g(t._b({},"CDrawer",t.$attrs,!1),t.$listeners),[a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("home.connectWallet.title")))]),a("CDivider"),a("div",{staticClass:"scroll"},[t.fromChain?a("div",{staticClass:"from"},[a("div",{staticClass:"chain"},[a("img",{staticClass:"chain-icon",attrs:{src:t.fromChain.icon}}),a("span",{staticClass:"chain-name"},[t._v(" "+t._s(t.$t("home.connectWallet.chainName",{chainName:t.$formatEnum(t.fromChainId,{type:"chainName"})}))+" ")])]),a("div",{staticClass:"wallets"},t._l(t.fromChainWallets,(function(e){return a("div",{key:e.name},[e.connected&&e.name===t.fromChain.selectedWalletName?a("div",{staticClass:"wallet"},[a("img",{staticClass:"wallet-icon",attrs:{src:e.icon}}),a("span",{staticClass:"wallet-name"},[t._v(" "+t._s(t.$t("home.connectWallet.walletConnected",{walletName:t.$formatEnum(e.name,{type:"walletName"})}))+" ")])]):a("CButton",{staticClass:"connect",on:{click:function(a){return t.connect(t.fromChain,e)}}},[a("span",{staticClass:"wallet-name"},[t._v(" "+t._s(t.$t("home.connectWallet.connectWallet",{walletName:t.$formatEnum(e.name,{type:"walletName"})}))+" ")]),a("img",{staticClass:"wallet-icon",attrs:{src:e.icon}})])],1)})),0)]):t._e(),t.toChain?a("div",{staticClass:"to"},[a("div",{staticClass:"chain"},[a("img",{staticClass:"chain-icon",attrs:{src:t.toChain.icon}}),a("span",{staticClass:"chain-name"},[t._v(" "+t._s(t.$t("home.connectWallet.chainName",{chainName:t.$formatEnum(t.toChainId,{type:"chainName"})}))+" ")])]),a("div",{staticClass:"wallets"},t._l(t.toChainWallets,(function(e){return a("div",{key:e.name},[e.connected&&e.name===t.toChain.selectedWalletName?a("div",{staticClass:"wallet"},[a("img",{staticClass:"wallet-icon",attrs:{src:e.icon}}),a("span",{staticClass:"wallet-name"},[t._v(" "+t._s(t.$t("home.connectWallet.walletConnected",{walletName:t.$formatEnum(e.name,{type:"walletName"})}))+" ")])]):a("CButton",{staticClass:"connect",on:{click:function(a){return t.connect(t.toChain,e)}}},[a("span",{staticClass:"wallet-name"},[t._v(" "+t._s(t.$t("home.connectWallet.connectWallet",{walletName:t.$formatEnum(e.name,{type:"walletName"})}))+" ")]),a("img",{staticClass:"wallet-icon",attrs:{src:e.icon}})])],1)})),0)]):t._e()])],1)])},W=[],S={name:"ConnectWallet",props:{fromChainId:Number,toChainId:Number},inheritAttrs:!1,computed:{fromChain:function(){return this.$store.getters.getChain(this.fromChainId)},fromChainWallets:function(){return this.$store.getters.getWalletsByChainId(this.fromChainId)},fromWallet:function(){return this.$store.getters.getChainConnectedWallet(this.fromChainId)},toChain:function(){return this.$store.getters.getChain(this.toChainId)},toChainWallets:function(){return this.$store.getters.getWalletsByChainId(this.toChainId)},toWallet:function(){return this.$store.getters.getChainConnectedWallet(this.toChainId)}},methods:{connect:function(t,e){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.installed){n.next=11;break}if(e.connected){n.next=7;break}return n.next=4,Object(g["a"])(e.name);case 4:return i=n.sent,n.next=7,i.connect();case 7:a.$store.dispatch("setChainSelectedWallet",{chainId:t.id,walletName:e.name}),a.fromWallet&&a.toWallet&&a.$emit("update:visible",!1),n.next=12;break;case 11:window.open(e.downloadUrl);case 12:case"end":return n.stop()}}),n)})))()}}},E=S,H=(a("1009"),Object($["a"])(E,A,W,!1,null,"6b4022cd",null)),V=H.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("CDrawer",t._g(t._b({attrs:{closeOnClickModal:!t.confirming,closeOnPressEscape:!t.confirming}},"CDrawer",t.$attrs,!1),t.$listeners),[t.confirmingData?n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v(t._s(t.$t("home.confirm.title")))]),n("CDivider"),t.packing?n("div",{staticClass:"packing"},[n("img",{staticClass:"packing-icon",attrs:{src:a("f03d")}}),n("span",{staticClass:"packing-text"},[t._v(" "+t._s(t.$t("home.confirm.packing",{chainName:t.$formatEnum(t.confirmingData.fromChainId,{type:"chainName"})}))+" ")]),n("CLink",{staticClass:"hash",attrs:{target:"_blank",href:t.$format(t.fromChain.explorerUrl,{txHash:t.confirmingData.transactionHash}),disabled:!t.confirmingData.transactionHash}},[t._v(" "+t._s(t.$t("home.confirm.hash",{hash:t.$formatLongText(t.confirmingData.transactionHash||"N/A",{headTailLength:10})}))+" ")])],1):n("div",{staticClass:"scroll"},[n("div",{staticClass:"fields"},[n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.confirm.amount")))]),n("div",{staticClass:"amount"},[n("span",{staticClass:"amount-value"},[t._v(t._s(t.$formatNumber(t.confirmingData.amount)))]),n("span",{staticClass:"token-basic-name"},[t._v(t._s(t.tokenBasic.name))])])]),n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.confirm.from")))]),n("div",{staticClass:"chain"},[n("img",{staticClass:"chain-icon",attrs:{src:t.fromChain.icon}}),n("span",{staticClass:"chain-name"},[t._v(" "+t._s(t.$t("home.confirm.chainName",{chainName:t.$formatEnum(t.confirmingData.fromChainId,{type:"chainName"})}))+" ")])]),n("div",{staticClass:"address"},[t._v(" "+t._s(t.confirmingData.fromAddress)+" ")])]),n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.confirm.to")))]),n("div",{staticClass:"chain"},[n("img",{staticClass:"chain-icon",attrs:{src:t.toChain.icon}}),n("span",{staticClass:"chain-name"},[t._v(" "+t._s(t.$t("home.confirm.chainName",{chainName:t.$formatEnum(t.confirmingData.toChainId,{type:"chainName"})}))+" ")])]),n("div",{staticClass:"address"},[t._v(" "+t._s(t.confirmingData.toAddress)+" ")])]),n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.confirm.fee")))]),n("div",{staticClass:"fee"},[n("span",{staticClass:"fee-value"},[t._v(t._s(t.$formatNumber(t.confirmingData.fee)))]),n("span",{staticClass:"token-basic-name"},[t._v(t._s(t.fromChain.nftFeeName?t.fromChain.nftFeeName:t.fromToken.name))])])]),n("div",{staticClass:"field"},[n("div",{staticClass:"label"},[t._v(t._s(t.$t("home.confirm.receiving")))]),n("div",{staticClass:"fee"},[n("span",{staticClass:"fee-value"},[t._v(t._s(t.$formatNumber(t.receivingAmount)))]),n("span",{staticClass:"token-basic-name"},[t._v(t._s(t.toToken.name))])])])]),n("CSubmitButton",{attrs:{loading:t.confirming},on:{click:t.confirm}},[t._v(" "+t._s(t.confirming?t.$t("buttons.confirming"):t.$t("buttons.confirm"))+" ")])],1)],1)]):t._e()],1)},P=[],O=a("5530"),R=(a("d3b7"),a("25f0"),a("3c84")),j=a.n(R),L={name:"Confirm",inheritAttrs:!1,props:{confirmingData:Object},data:function(){return{confirming:!1,packing:!1}},computed:{tokenBasic:function(){return this.confirmingData&&this.$store.getters.getTokenBasicByChainIdAndTokenHash({chainId:this.confirmingData.fromChainId,tokenHash:this.confirmingData.fromTokenHash})},fromChain:function(){return this.confirmingData&&this.$store.getters.getChain(this.confirmingData.fromChainId)},fromToken:function(){return this.tokenBasic&&this.$store.getters.getTokenByTokenBasicNameAndChainId({tokenBasicName:this.tokenBasic.name,chainId:this.confirmingData.fromChainId})},toChain:function(){return this.confirmingData&&this.$store.getters.getChain(this.confirmingData.toChainId)},toToken:function(){return this.tokenBasic&&this.$store.getters.getTokenByTokenBasicNameAndChainId({tokenBasicName:this.tokenBasic.name,chainId:this.confirmingData.toChainId})},receivingAmount:function(){var t;return t=this.fromChain.nftFeeName?this.confirmingData&&new h.a(this.confirmingData.amount).toString():this.confirmingData&&new h.a(this.confirmingData.amount).minus(this.confirmingData.fee).toString(),t},payAmount:function(){var t;return t=this.fromChain.nftFeeName&&"0000000000000000000000000000000000000000"===this.confirmingData.fromTokenHash?this.confirmingData&&new h.a(this.confirmingData.amount).plus(this.confirmingData.fee).toString():this.confirmingData&&new h.a(this.confirmingData.amount).toString(),t},fromWallet:function(){return this.confirmingData&&this.$store.getters.getChainConnectedWallet(this.confirmingData.fromChainId)}},methods:{confirm:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("ensureChainWalletReady",t.confirmingData.fromChainId);case 2:return e.prev=2,t.confirming=!0,e.next=6,Object(g["a"])(t.fromWallet.name);case 6:return a=e.sent,e.next=9,a.lock({fromChainId:t.confirmingData.fromChainId,fromAddress:t.confirmingData.fromAddress,fromTokenHash:t.confirmingData.fromTokenHash,toChainId:t.confirmingData.toChainId,toAddress:t.confirmingData.toAddress,amount:t.payAmount,fee:t.confirmingData.fee});case 9:n=e.sent,t.packing=!0,i=C["b"].Pending,t.$emit("update:confirmingData",Object(O["a"])(Object(O["a"])({},t.confirmingData),{},{transactionHash:n,transactionStatus:i}));case 13:return e.prev=14,e.next=17,a.getTransactionStatus({transactionHash:n});case 17:if(i=e.sent,i===C["b"].Pending){e.next=20;break}return e.abrupt("break",28);case 20:return e.next=22,j()(5e3);case 22:e.next=26;break;case 24:e.prev=24,e.t0=e["catch"](14);case 26:e.next=13;break;case 28:t.$emit("update:confirmingData",Object(O["a"])(Object(O["a"])({},t.confirmingData),{},{transactionHash:n,transactionStatus:i})),t.$emit("packed"),t.$emit("update:visible",!1);case 31:return e.prev=31,t.confirming=!1,t.packing=!1,e.finish(31);case 35:case"end":return e.stop()}}),e,null,[[2,,31,35],[14,24]])})))()}}},M=L,U=(a("a77e"),Object($["a"])(M,F,P,!1,null,"0a18ed2b",null)),G=U.exports,q={name:"Form",components:{SelectTokenBasic:T,SelectChain:y,ConnectWallet:V,Confirm:G,TransactionDetails:p["a"]},data:function(){return{selectTokenBasicVisible:!1,selectFromChainVisible:!1,selectToChainVisible:!1,connectWalletVisible:!1,confirmVisible:!1,transactionDetailsVisible:!1,tokenBasicName:this.$route.params.token?this.$route.params.token:d["c"],fromChainId:null,toChainId:null,amount:"",approving:!1,confirmingData:null,approveInfinityChecked:!1,confirmUuid:Object(u["a"])()}},computed:{minAmount:function(){var t;return t=this.fromChain&&this.fromChain.nftFeeContractHash?0:this.fee?this.fee.TokenAmount:0,t},maxAmount:function(){var t;return this.fee&&(t=Number(this.fee.Balance)>Number(this.balance)?this.balance:this.fee.Balance),t},tokenBasics:function(){return this.$store.getters.tokenBasics},tokenBasic:function(){return this.$store.getters.getTokenBasic(this.tokenBasicName)},chains:function(){return this.$store.getters.chains.filter((function(t){return t.id!==C["a"].Poly}))},fromChains:function(){var t=this;return this.tokenBasic&&this.$store.getters.getTokensByTokenBasicName(this.tokenBasic.name).map((function(e){return t.$store.getters.getChain(e.chainId)})).filter((function(t){return t}))},fromChain:function(){return this.$store.getters.getChain(this.fromChainId)},fromToken:function(){return this.tokenBasic&&this.$store.getters.getTokenByTokenBasicNameAndChainId({tokenBasicName:this.tokenBasicName,chainId:this.fromChainId})},fromWallet:function(){return this.$store.getters.getChainConnectedWallet(this.fromChainId)},getTokenMapsParams:function(){return this.fromToken?{fromChainId:this.fromChainId,fromTokenHash:this.fromToken.hash}:null},tokenMaps:function(){return this.getTokenMapsParams&&this.$store.getters.getTokenMaps(this.getTokenMapsParams)},toChains:function(){var t=this;return this.tokenMaps&&this.tokenMaps.map((function(e){return t.$store.getters.getChain(e.toToken.chainId)})).filter((function(t){return t}))},toChain:function(){return this.$store.getters.getChain(this.toChainId)},toToken:function(){return this.tokenBasic&&this.$store.getters.getTokenByTokenBasicNameAndChainId({tokenBasicName:this.tokenBasicName,chainId:this.toChainId})},toWallet:function(){return this.$store.getters.getChainConnectedWallet(this.toChainId)},getBalanceParams:function(){return this.fromWallet&&this.fromToken?{chainId:this.fromChainId,address:this.fromWallet.address,tokenHash:this.fromToken.hash}:null},balance:function(){return this.getBalanceParams&&this.$store.getters.getBalance(this.getBalanceParams)},getAllowanceParams:function(){return this.fromWallet&&this.fromChain&&this.fromToken?{chainId:this.fromChainId,address:this.fromWallet.address,tokenHash:this.fromToken.hash,spender:this.fromChain.lockContractHash}:null},allowance:function(){return this.getAllowanceParams&&this.$store.getters.getAllowance(this.getAllowanceParams)},needApproval:function(){return!!this.amount&&!!this.allowance&&new h.a(this.amount).gt(this.allowance)},getFeeParams:function(){return this.fromToken&&this.toChainId?{fromChainId:this.fromChainId,fromTokenHash:this.fromChain.nftFeeContractHash?this.fromChain.nftFeeContractHash:this.fromToken.hash,toChainId:this.toChainId,toTokenHash:this.fromToken.hash}:null},fee:function(){return this.getFeeParams&&this.$store.getters.getFee(this.getFeeParams)}},watch:{getBalanceParams:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}return a.next=3,e.$store.dispatch("ensureChainWalletReady",t.chainId);case 3:e.$store.dispatch("getBalance",t);case 4:case"end":return a.stop()}}),a)})))()},getFeeParams:function(t){t&&this.$store.dispatch("getFee",t)},getTokenMapsParams:function(t){t&&this.$store.dispatch("getTokenMaps",t)},getAllowanceParams:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=4;break}return a.next=3,e.$store.dispatch("ensureChainWalletReady",t.chainId);case 3:e.$store.dispatch("getAllowance",t);case 4:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;this.$store.dispatch("getTokenBasics"),this.interval=setInterval((function(){t.getBalanceParams&&t.fromWallet&&t.fromWallet.chainId===t.fromChainId&&t.$store.dispatch("getBalance",t.getBalanceParams),t.getAllowanceParams&&t.fromWallet&&t.fromWallet.chainId===t.fromChainId&&t.$store.dispatch("getAllowance",t.getAllowanceParams)}),5e3)},beforeDestroy:function(){clearInterval(this.interval)},methods:{changeTokenBasicName:function(t){this.tokenBasicName=t,this.fromChainId=null,this.toChainId=null,this.clearAmount()},changeFromChainId:function(t){this.fromChainId=t,this.toChainId=null,this.clearAmount()},changeToChainId:function(t){this.toChainId=t,this.clearAmount()},exchangeFromTo:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getTokenMaps",{fromChainId:t.toChainId,fromTokenHash:t.toToken.hash});case 2:a=t.fromChainId,t.fromChainId=t.toChainId,t.toChains&&t.toChains.find((function(t){return t.id===a}))?t.toChainId=a:t.toChainId=null,t.clearAmount();case 6:case"end":return e.stop()}}),e)})))()},copy:function(t){f()(t),this.$message.success(this.$t("messages.copied",{text:t}))},transferAll:function(){var t=this;Number(this.fee.Balance)>Number(this.balance)?this.amount=this.balance:this.amount=this.fee.Balance,this.$nextTick((function(){return t.$refs.amountValidation.validate()}))},approve:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("ensureChainWalletReady",t.fromChainId);case 2:return e.prev=2,t.approving=!0,e.next=6,Object(g["a"])(t.fromWallet.name);case 6:return a=e.sent,e.next=9,a.getTotalSupply({chainId:t.fromChainId,tokenHash:t.fromToken.hash});case 9:if(n=e.sent,i=n>0?n:9999999999999,new h.a(t.allowance).isZero()){e.next=14;break}return e.next=14,a.approve({chainId:t.fromChainId,address:t.fromWallet.address,tokenHash:t.fromToken.hash,spender:t.fromChain.lockContractHash,amount:0});case 14:return e.next=16,a.approve({chainId:t.fromChainId,address:t.fromWallet.address,tokenHash:t.fromToken.hash,spender:t.fromChain.lockContractHash,amount:t.approveInfinityChecked?i:t.amount});case 16:return e.next=18,t.$store.dispatch("getAllowance",t.getAllowanceParams);case 18:return e.prev=18,t.approving=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,,18,21]])})))()},next:function(){this.confirmingData={fromAddress:this.fromWallet.address,toAddress:this.toWallet.address,fromChainId:this.fromChainId,toChainId:this.toChainId,fromTokenHash:this.fromToken.hash,toTokenHash:this.toToken.hash,amount:this.amount,fee:this.fee.TokenAmount},this.confirmVisible=!0},handleClosed:function(){var t=this;this.$nextTick((function(){t.confirmUuid=Object(u["a"])()}))},handlePacked:function(){this.transactionDetailsVisible=!0,this.clearAmount()},clearAmount:function(){var t=this;this.amount="",this.$nextTick((function(){return t.$refs.amountValidation.reset()}))}}},J=q,X=(a("abfe"),a("c91b"),Object($["a"])(J,r,o,!1,null,"e193b89a",null)),Y=X.exports,Q={name:"Home",components:{Page:s["a"],Form:Y}},Z=Q,z=(a("c8f4"),Object($["a"])(Z,n,i,!1,null,"7ccf36aa",null));e["default"]=z.exports},a77e:function(t,e,a){"use strict";a("00da")},a9e3:function(t,e,a){"use strict";var n=a("83ab"),i=a("da84"),s=a("94ca"),r=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),h=a("c04e"),m=a("d039"),f=a("7c73"),u=a("241c").f,d=a("06cf").f,C=a("9bf2").f,p=a("58a8").trim,g="Number",v=i[g],k=v.prototype,b=c(f(k))==g,_=function(t){var e,a,n,i,s,r,o,c,l=h(t,!1);if("string"==typeof l&&l.length>2)if(l=p(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+l}for(s=l.slice(2),r=s.length,o=0;o<r;o++)if(c=s.charCodeAt(o),c<48||c>i)return NaN;return parseInt(s,n)}return+l};if(s(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var $,I=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof I&&(b?m((function(){k.valueOf.call(a)})):c(a)!=g)?l(new v(_(e)),a,I):_(e)},T=n?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;T.length>w;w++)o(v,$=T[w])&&!o(I,$)&&C(I,$,d(v,$));I.prototype=k,k.constructor=I,r(i,g,I)}},abfe:function(t,e,a){"use strict";a("d1a0")},afc7:function(t,e,a){t.exports=a.p+"img/to.c55fdb40.svg"},b11f:function(t,e,a){t.exports=a.p+"img/from.ca70d331.svg"},c26e:function(t,e,a){},c8f4:function(t,e,a){"use strict";a("6f59")},c91b:function(t,e,a){"use strict";a("cdd4")},cdd4:function(t,e,a){},d1a0:function(t,e,a){},e482:function(t,e,a){"use strict";a("4bc1")},e79e:function(t,e,a){"use strict";a("22a4")},ec26:function(t,e,a){"use strict";var n,i=new Uint8Array(16);function s(){if(!n&&(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function o(t){return"string"===typeof t&&r.test(t)}for(var c=o,l=[],h=0;h<256;++h)l.push((h+256).toString(16).substr(1));function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!c(a))throw TypeError("Stringified UUID is invalid");return a}var f=m;function u(t,e,a){t=t||{};var n=t.random||(t.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){a=a||0;for(var i=0;i<16;++i)e[a+i]=n[i];return e}return f(n)}e["a"]=u},f03d:function(t,e,a){t.exports=a.p+"img/pending-large.568a69b8.svg"},f0c2:function(t,e,a){t.exports=a.p+"img/chevron-right.8d4d3362.svg"},f979:function(t,e,a){}}]);