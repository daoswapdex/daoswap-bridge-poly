(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06043e12"],{3474:function(e,t,n){"use strict";n.r(t);var r,a=n("1da1"),s=n("ade3"),c=(n("96cf"),n("a4d3"),n("e01a"),n("7db0"),n("3c84")),i=n.n(c),u=n("2ef0"),o=n.n(u),l=n("4360"),d=n("146b"),p=n("1d64"),h=n("b00c"),E=n("4245"),f=n("e490"),w=n("4ec8"),m="NEOLINE_CONNECTED",v=Object(s["a"])({},f["a"]?"MainNet":"TestNet",h["a"].Neo);function N(e){if(e instanceof E["d"])return e;var t="";switch(e.type){case"NO_PROVIDER":t=E["d"].CODES.NOT_INSTALLED;break;case"CONNECTION_DENIED":t=E["d"].CODES.USER_REJECTED;break;case"CONNECTION_REFUSED":t=E["d"].CODES.COMMUNICATE_FAILED;break;case"RPC_ERROR":t=E["d"].CODES.COMMUNICATE_FAILED;break;case"MALFORMED_INPUT":t=E["d"].CODES.MALFORMED_INPUT;break;case"CANCELED":t=E["d"].CODES.USER_REJECTED;break;case"INSUFFICIENT_FUNDS":t=E["d"].CODES.INSUFFICIENT_FUNDS;break;default:t=E["d"].CODES.UNKNOWN_ERROR}return new E["d"](e.message||e.description,{code:t,cause:e})}function b(){return O.apply(this,arguments)}function O(){return O=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.getAccount();case 2:if(e.t0=e.sent.address,e.t0){e.next=5;break}e.t0=null;case 5:return t=e.t0,e.next=8,r.getNetworks();case 8:return n=e.sent.defaultNetwork,e.next=11,Object(w["b"])(h["d"].NeoLine,t);case 11:a=e.sent,l["a"].dispatch("updateWallet",{name:h["d"].NeoLine,address:t,addressHex:a,connected:!!t,chainId:v[n]});case 13:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function g(){return R.apply(this,arguments)}function R(){return R=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=function(){return n=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,window.removeEventListener("NEOLine.NEO.EVENT.READY",g),l["a"].dispatch("updateWallet",{name:h["d"].NeoLine,installed:!0}),r=new window.NEOLine.Init,"true"!==sessionStorage.getItem(m)){e.next=7;break}return e.next=7,b();case 7:r.addEventListener(r.EVENT.ACCOUNT_CHANGED,function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.address||null,e.next=3,Object(w["b"])(h["d"].NeoLine,n);case 3:r=e.sent,l["a"].dispatch("updateWallet",{name:h["d"].NeoLine,address:n,addressHex:r,connected:!!n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.addEventListener(r.EVENT.NETWORK_CHANGED,(function(e){var t=e.defaultNetwork;l["a"].dispatch("updateWallet",{name:h["d"].NeoLine,chainId:v[t]})}));case 9:return e.prev=9,l["a"].getters.getWallet(h["d"].NeoLine).deferred.resolve(),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,,9,12]])}))),n.apply(this,arguments)},t=function(){return n.apply(this,arguments)},!window.NEOLine){e.next=7;break}return e.next=5,t();case 5:e.next=11;break;case 7:return window.addEventListener("NEOLine.NEO.EVENT.READY",t),e.next=10,i()(2e3);case 10:l["a"].getters.getWallet(h["d"].NeoLine).deferred.resolve();case 11:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function k(){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:sessionStorage.setItem(m,"true"),e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),N(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),x.apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return T=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,c,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.chainId,a=t.address,s=t.tokenHash,e.prev=1,c=l["a"].getters.getToken({chainId:n,hash:s}),e.next=5,r.getBalance({params:[{address:a,assets:["NEO","GAS",c.hash]}]});case 5:return i=e.sent,u=((i[a]||[]).find((function(e){return Object(p["f"])(e.assetID)===c.hash}))||{}).amount,e.abrupt("return",null==u?"0":u);case 10:throw e.prev=10,e.t0=e["catch"](1),N(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),T.apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return y=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function D(e){return L.apply(this,arguments)}function L(){return L=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.transactionHash,e.prev=1,a=null,e.prev=3,e.next=6,r.getApplicationLog({txid:n});case 6:if(a=e.sent,a){e.next=9;break}throw new E["d"]("Communicate failed with wallet.",{code:E["d"].CODES.COMMUNICATE_FAILED});case 9:e.next=15;break;case 11:if(e.prev=11,e.t0=e["catch"](3),"RPC_ERROR"===e.t0.type){e.next=15;break}throw e.t0;case 15:if(!a){e.next=19;break}return s=o.a.get(a,"executions[0].vmstate"),c=o.a.get(a,"executions[0].stack[0].value"),e.abrupt("return","HALT"===s&&"1"===c?h["b"].Done:h["b"].Failed);case 19:return e.abrupt("return",h["b"].Pending);case 22:throw e.prev=22,e.t1=e["catch"](1),N(e.t1);case 25:case"end":return e.stop()}}),e,null,[[1,22],[3,11]])}))),L.apply(this,arguments)}function A(){return S.apply(this,arguments)}function S(){return S=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Method not implemented");case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}function j(e){return _.apply(this,arguments)}function _(){return _=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,s,c,i,u,o,h,E,f,w,m,v,b,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.fromChainId,a=t.fromAddress,s=t.fromTokenHash,c=t.toChainId,i=t.toAddress,u=t.amount,o=t.fee,e.prev=1,h=l["a"].getters.getChain(n),E=l["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:n,tokenHash:s}),e.next=6,Object(d["a"])(c);case 6:return f=e.sent,w=f.addressToHex(i),m=Object(p["b"])(u,E.decimals),v=Object(p["b"])(o,E.decimals),b={scriptHash:h.lockContractHash,operation:"lock",args:[{type:"Hash160",value:s},{type:"Address",value:a},{type:"Integer",value:c},{type:"ByteArray",value:w},{type:"Integer",value:m},{type:"Integer",value:v},{type:"Integer",value:0}]},e.next=13,r.invoke(b);case 13:return O=e.sent,e.abrupt("return",O.txid);case 17:throw e.prev=17,e.t0=e["catch"](1),N(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),_.apply(this,arguments)}t["default"]={install:g,connect:k,getBalance:C,getAllowance:I,getTransactionStatus:D,approve:A,lock:j}},"3c84":function(e,t,n){"use strict";const r=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),a=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},s=({clearTimeout:e,setTimeout:t,willResolve:n})=>(r,{value:s,signal:c}={})=>{if(c&&c.aborted)return Promise.reject(a());let i,u,o;const l=e||clearTimeout,d=()=>{l(i),o(a())},p=()=>{c&&c.removeEventListener("abort",d)},h=new Promise((e,a)=>{u=()=>{p(),n?e(s):a(s)},o=a,i=(t||setTimeout)(u,r)});return c&&c.addEventListener("abort",d,{once:!0}),h.clear=()=>{l(i),i=null,u()},h},c=s({willResolve:!0});c.reject=s({willResolve:!1}),c.range=(e,t,n)=>c(r(e,t),n),c.createWithTimers=({clearTimeout:e,setTimeout:t})=>{const n=s({clearTimeout:e,setTimeout:t,willResolve:!0});return n.reject=s({clearTimeout:e,setTimeout:t,willResolve:!1}),n},e.exports=c,e.exports.default=c}}]);