(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c76d5"],{5125:function(e,t,n){"use strict";n.r(t);var r,a,c=n("1da1"),s=n("ade3"),u=(n("96cf"),n("d3b7"),n("a9e3"),n("99e5")),o=n.n(u),i=n("4360"),h=n("146b"),p=n("1d64"),d=n("b00c"),l=n("4245"),f=n("e490"),m=n("4ec8"),w="META_MASK_CONNECTED",b="0x0000000000000000000000000000000000000000",k=(r={},Object(s["a"])(r,f["a"]?1:3,d["a"].Eth),Object(s["a"])(r,f["a"]?56:97,d["a"].Bsc),Object(s["a"])(r,f["a"]?128:256,d["a"].Heco),Object(s["a"])(r,f["a"]?66:65,d["a"].Ok),r);function g(e){return new Promise((function(t,n){function r(t,n){e.off("confirmation",r)}e.on("transactionHash",t),e.on("error",n),e.on("confirmation",r)}))}function v(e){if(e instanceof l["d"])return e;var t=l["d"].CODES.UNKNOWN_ERROR;return 4001===e.code&&(t=l["d"].CODES.USER_REJECTED),new l["d"](e.message,{code:t,cause:e})}function x(){return O.apply(this,arguments)}function O(){return O=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,n,r,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_accounts"});case 2:return t=e.sent,n=t[0]||null,e.next=6,Object(m["b"])(d["d"].MetaMask,n);case 6:return r=e.sent,c=n&&a.utils.toChecksumAddress(n),e.next=10,window.ethereum.request({method:"eth_chainId"});case 10:s=e.sent,i["a"].dispatch("updateWallet",{name:d["d"].MetaMask,address:c,addressHex:r,connected:!!c,chainId:k[Number(s)]});case 12:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return C=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,window.ethereum){e.next=3;break}return e.abrupt("return");case 3:if(a=new o.a(window.ethereum),i["a"].dispatch("updateWallet",{name:d["d"].MetaMask,installed:!0}),"true"!==sessionStorage.getItem(w)){e.next=8;break}return e.next=8,x();case 8:window.ethereum.on("accountsChanged",function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t[0]||null,e.next=3,Object(m["b"])(d["d"].MetaMask,n);case 3:r=e.sent,c=n&&a.utils.toChecksumAddress(n),i["a"].dispatch("updateWallet",{name:d["d"].MetaMask,address:c,addressHex:r,connected:!!c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.ethereum.on("chainChanged",(function(e){i["a"].dispatch("updateWallet",{name:d["d"].MetaMask,chainId:k[Number(e)]})}));case 10:return e.prev=10,i["a"].getters.getWallet(d["d"].MetaMask).deferred.resolve(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,,10,13]])}))),C.apply(this,arguments)}function y(){return R.apply(this,arguments)}function R(){return R=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return e.next=5,x();case 5:sessionStorage.setItem(w,"true"),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),v(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),R.apply(this,arguments)}function H(e){return I.apply(this,arguments)}function I(){return I=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.chainId,c=t.address,s=t.tokenHash,e.prev=1,u=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:r,tokenHash:s}),"0000000000000000000000000000000000000000"!==s){e.next=8;break}return e.next=6,a.eth.getBalance(c);case 6:return o=e.sent,e.abrupt("return",Object(p["c"])(o,u.decimals));case 8:return h=new a.eth.Contract(n("66fb"),s),e.next=11,h.methods.balanceOf(c).call();case 11:return d=e.sent,e.abrupt("return",Object(p["c"])(d,u.decimals));case 15:throw e.prev=15,e.t0=e["catch"](1),v(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),I.apply(this,arguments)}function T(e){return A.apply(this,arguments)}function A(){return A=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.chainId,c=t.address,s=t.tokenHash,u=t.spender,e.prev=1,o=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:r,tokenHash:s}),"0000000000000000000000000000000000000000"!==s){e.next=5;break}return e.abrupt("return",null);case 5:return h=new a.eth.Contract(n("66fb"),s),e.next=8,h.methods.allowance(c,"0x".concat(u)).call();case 8:return d=e.sent,e.abrupt("return",Object(p["c"])(d,o.decimals));case 12:throw e.prev=12,e.t0=e["catch"](1),v(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),A.apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return B=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.chainId,c=t.tokenHash,e.prev=1,s=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:r,tokenHash:c}),"0000000000000000000000000000000000000000"!==c){e.next=5;break}return e.abrupt("return",null);case 5:return u=new a.eth.Contract(n("66fb"),c),e.next=8,u.methods.totalSupply().call();case 8:return o=e.sent,e.abrupt("return",Object(p["c"])(o,s.decimals));case 12:throw e.prev=12,e.t0=e["catch"](1),v(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),B.apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return N=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.transactionHash,e.prev=1,e.next=4,a.eth.getTransactionReceipt("0x".concat(n));case 4:if(r=e.sent,!r){e.next=7;break}return e.abrupt("return",r.status?d["b"].Done:d["b"].Failed);case 7:return e.abrupt("return",d["b"].Pending);case 10:throw e.prev=10,e.t0=e["catch"](1),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),N.apply(this,arguments)}function S(e){return _.apply(this,arguments)}function _(){return _=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,h,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.chainId,c=t.address,s=t.tokenHash,u=t.spender,o=t.amount,e.prev=1,h=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:r,tokenHash:s}),d=Object(p["b"])(o,h.decimals),l=new a.eth.Contract(n("66fb"),s),e.next=7,l.methods.approve("0x".concat(u),d).send({from:c});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e["catch"](1),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),_.apply(this,arguments)}function W(e){return D.apply(this,arguments)}function D(){return D=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.address,c=t.tokenHash,s=t.spender,u=t.id,e.prev=1,o=Object(p["b"])(u,0),i=new a.eth.Contract(n("f523"),c),e.next=6,i.methods.approve(s,o).send({from:r});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e["catch"](1),v(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),D.apply(this,arguments)}function q(e){return F.apply(this,arguments)}function F(){return F=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,h,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.fromChainId,c=t.tokenHash,s=t.id,e.prev=1,u=i["a"].getters.getChain(r),o=Object(p["b"])(s,0),h=new a.eth.Contract(n("f523"),c),e.next=7,h.methods.getApproved(o).call();case 7:return d=e.sent,e.abrupt("return",!(d===u.nftLockContractHash));case 11:throw e.prev=11,e.t0=e["catch"](1),v(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),F.apply(this,arguments)}function J(e){return L.apply(this,arguments)}function L(){return L=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,d,l,f,m,w,b,k,x,O,j;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.fromChainId,c=t.fromAddress,s=t.fromTokenHash,u=t.toChainId,o=t.toAddress,d=t.amount,l=t.fee,e.prev=1,f=i["a"].getters.getChain(r),m=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:r,tokenHash:s}),w=new a.eth.Contract(n("6214"),f.lockContractHash),e.next=7,Object(h["a"])(u);case 7:return b=e.sent,k=b.addressToHex(o),x=Object(p["b"])(d,m.decimals),O=Object(p["b"])(l,f.nftFeeName?18:m.decimals),e.next=13,g(w.methods.lock("0x".concat(s),u,"0x".concat(k),x,O,0).send({from:c,value:"0000000000000000000000000000000000000000"===s?x:O}));case 13:return j=e.sent,e.abrupt("return",Object(p["f"])(j));case 17:throw e.prev=17,e.t0=e["catch"](1),v(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),L.apply(this,arguments)}function K(e){return P.apply(this,arguments)}function P(){return P=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,c,s,u,o,d,l,f,m,w,k,x,O,j;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.fromChainId,c=t.fromAddress,s=t.fromTokenHash,u=t.toChainId,o=t.toAddress,d=t.id,l=t.fee,e.prev=1,f=i["a"].getters.getChain(r),m=new a.eth.Contract(n("877b"),f.nftLockContractHash),e.next=6,Object(h["a"])(u);case 6:return w=e.sent,k=w.addressToHex(o),x=Object(p["b"])(d,0),O=Object(p["b"])(l,18),e.next=12,g(m.methods.lock("0x".concat(s),u,"0x".concat(k),x,b,O,0).send({from:c,value:O}));case 12:return j=e.sent,e.abrupt("return",Object(p["f"])(j));case 16:throw e.prev=16,e.t0=e["catch"](1),v(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),P.apply(this,arguments)}t["default"]={install:j,connect:y,getBalance:H,getAllowance:T,getTransactionStatus:E,approve:S,lock:J,nftLock:K,nftApprove:W,getTotalSupply:M,getNFTApproved:q}}}]);