(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e6846"],{"98a2":function(e,t,n){"use strict";n.r(t);var r,a=n("1da1"),c=n("ade3"),s=(n("96cf"),n("d3b7"),n("caad"),n("2532"),n("a9e3"),n("99e5")),u=n.n(s),i=n("4360"),o=n("146b"),h=n("1d64"),p=n("b00c"),d=n("4245"),l=n("e490"),f=n("4ec8"),m="BINANCE_CONNECTED",w="0x0000000000000000000000000000000000000000",b=Object(c["a"])({},l["a"]?56:97,p["a"].Bsc);function g(e){return new Promise((function(t,n){function r(t,n){e.off("confirmation",r)}e.on("transactionHash",t),e.on("error",n),e.on("confirmation",r)}))}function v(e){if(e instanceof d["d"])return e;var t=d["d"].CODES.UNKNOWN_ERROR;return e.message.includes("Rejected by user")?t=d["d"].CODES.USER_REJECTED:e.message.includes("insufficient funds")&&(t=d["d"].CODES.INSUFFICIENT_FUNDS),new d["d"](e.message,{code:t,cause:e})}function k(){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.BinanceChain.request({method:"eth_accounts"});case 2:return t=e.sent,n=t[0]||null,e.next=6,Object(f["b"])(p["d"].Binance,n);case 6:return a=e.sent,c=n&&r.utils.toChecksumAddress(n),e.next=10,window.BinanceChain.request({method:"eth_chainId"});case 10:s=e.sent,i["a"].dispatch("updateWallet",{name:p["d"].Binance,address:c,addressHex:a,connected:!!c,chainId:b[Number(s)]});case 12:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}function C(){return O.apply(this,arguments)}function O(){return O=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,window.BinanceChain){e.next=3;break}return e.abrupt("return");case 3:if(r=new u.a(window.BinanceChain),i["a"].dispatch("updateWallet",{name:p["d"].Binance,installed:!0}),"true"!==sessionStorage.getItem(m)){e.next=8;break}return e.next=8,k();case 8:window.BinanceChain.on("accountsChanged",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t[0]||null,e.next=3,Object(f["b"])(p["d"].Binance,n);case 3:a=e.sent,c=n&&r.utils.toChecksumAddress(n),i["a"].dispatch("updateWallet",{name:p["d"].Binance,address:c,addressHex:a,connected:!!c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.BinanceChain.on("chainChanged",(function(e){i["a"].dispatch("updateWallet",{name:p["d"].Binance,chainId:b[Number(e)]})}));case 10:return e.prev=10,i["a"].getters.getWallet(p["d"].Binance).deferred.resolve(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,,10,13]])}))),O.apply(this,arguments)}function y(){return R.apply(this,arguments)}function R(){return R=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.BinanceChain.request({method:"eth_requestAccounts"});case 3:return e.next=5,k();case 5:sessionStorage.setItem(m,"true"),e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),v(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),R.apply(this,arguments)}function j(e){return B.apply(this,arguments)}function B(){return B=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,o,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.chainId,c=t.address,s=t.tokenHash,e.prev=1,u=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:a,tokenHash:s}),"0000000000000000000000000000000000000000"!==s){e.next=8;break}return e.next=6,r.eth.getBalance(c);case 6:return o=e.sent,e.abrupt("return",Object(h["c"])(o,u.decimals));case 8:return p=new r.eth.Contract(n("66fb"),s),e.next=11,p.methods.balanceOf(c).call();case 11:return d=e.sent,e.abrupt("return",Object(h["c"])(d,u.decimals));case 15:throw e.prev=15,e.t0=e["catch"](1),v(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),B.apply(this,arguments)}function I(e){return H.apply(this,arguments)}function H(){return H=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,o,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.chainId,c=t.address,s=t.tokenHash,u=t.spender,e.prev=1,o=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:a,tokenHash:s}),"0000000000000000000000000000000000000000"!==s){e.next=5;break}return e.abrupt("return",null);case 5:return p=new r.eth.Contract(n("66fb"),s),e.next=8,p.methods.allowance(c,"0x".concat(u)).call();case 8:return d=e.sent,e.abrupt("return",Object(h["c"])(d,o.decimals));case 12:throw e.prev=12,e.t0=e["catch"](1),v(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),H.apply(this,arguments)}function T(e){return A.apply(this,arguments)}function A(){return A=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.chainId,c=t.tokenHash,e.prev=2,s=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:a,tokenHash:c}),"0000000000000000000000000000000000000000"!==c){e.next=6;break}return e.abrupt("return",null);case 6:return u=new r.eth.Contract(n("66fb"),c),e.next=9,u.methods.totalSupply().call();case 9:return o=e.sent,e.abrupt("return",Object(h["c"])(o,s.decimals));case 13:throw e.prev=13,e.t0=e["catch"](2),v(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])}))),A.apply(this,arguments)}function N(e){return E.apply(this,arguments)}function E(){return E=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.transactionHash,e.prev=1,e.next=4,r.eth.getTransactionReceipt("0x".concat(n));case 4:if(a=e.sent,!a){e.next=7;break}return e.abrupt("return",a.status?p["b"].Done:p["b"].Failed);case 7:return e.abrupt("return",p["b"].Pending);case 10:throw e.prev=10,e.t0=e["catch"](1),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),E.apply(this,arguments)}function S(e){return D.apply(this,arguments)}function D(){return D=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,o,p,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.chainId,c=t.address,s=t.tokenHash,u=t.spender,o=t.amount,e.prev=1,p=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:a,tokenHash:s}),d=Object(h["b"])(o,p.decimals),l=new r.eth.Contract(n("66fb"),s),e.next=7,l.methods.approve("0x".concat(u),d).send({from:c});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e["catch"](1),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),D.apply(this,arguments)}function _(e){return F.apply(this,arguments)}function F(){return F=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.address,c=t.tokenHash,s=t.spender,u=t.id,e.prev=1,i=Object(h["b"])(u,0),o=new r.eth.Contract(n("f523"),c),e.next=6,o.methods.approve(s,i).send({from:a});case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e["catch"](1),v(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),F.apply(this,arguments)}function W(e){return q.apply(this,arguments)}function q(){return q=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,o,p,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.fromChainId,c=t.tokenHash,s=t.id,e.prev=1,u=i["a"].getters.getChain(a),o=Object(h["b"])(s,0),p=new r.eth.Contract(n("f523"),c),e.next=7,p.methods.getApproved(o).call();case 7:return d=e.sent,e.abrupt("return",!(d===u.nftLockContractHash));case 11:throw e.prev=11,e.t0=e["catch"](1),v(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),q.apply(this,arguments)}function U(e){return J.apply(this,arguments)}function J(){return J=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,p,d,l,f,m,w,b,k,x,C,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.fromChainId,c=t.fromAddress,s=t.fromTokenHash,u=t.toChainId,p=t.toAddress,d=t.amount,l=t.fee,e.prev=1,f=i["a"].getters.getChain(a),m=i["a"].getters.getTokenBasicByChainIdAndTokenHash({chainId:a,tokenHash:s}),w=new r.eth.Contract(n("6214"),f.lockContractHash),e.next=7,Object(o["a"])(u);case 7:return b=e.sent,k=b.addressToHex(p),x=Object(h["b"])(d,m.decimals),C=Object(h["b"])(l,f.nftFeeName?18:m.decimals),e.next=13,g(w.methods.lock("0x".concat(s),u,"0x".concat(k),x,C,0).send({from:c,value:"0000000000000000000000000000000000000000"===s?x:C}));case 13:return O=e.sent,e.abrupt("return",Object(h["f"])(O));case 17:throw e.prev=17,e.t0=e["catch"](1),v(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),J.apply(this,arguments)}function L(e){return P.apply(this,arguments)}function P(){return P=Object(a["a"])(regeneratorRuntime.mark((function e(t){var a,c,s,u,p,d,l,f,m,b,k,x,C,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.fromChainId,c=t.fromAddress,s=t.fromTokenHash,u=t.toChainId,p=t.toAddress,d=t.id,l=t.fee,e.prev=1,f=i["a"].getters.getChain(a),m=new r.eth.Contract(n("877b"),f.nftLockContractHash),e.next=6,Object(o["a"])(u);case 6:return b=e.sent,k=b.addressToHex(p),x=Object(h["b"])(d,0),C=Object(h["b"])(l,18),e.next=12,g(m.methods.lock("0x".concat(s),u,"0x".concat(k),x,w,C,0).send({from:c,value:C}));case 12:return O=e.sent,e.abrupt("return",Object(h["f"])(O));case 16:throw e.prev=16,e.t0=e["catch"](1),v(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),P.apply(this,arguments)}t["default"]={install:C,connect:y,getBalance:j,getAllowance:I,getTransactionStatus:N,approve:S,lock:U,nftLock:L,nftApprove:_,getTotalSupply:T,getNFTApproved:W}}}]);